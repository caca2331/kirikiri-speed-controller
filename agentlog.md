2025-12-07 17:51: Added SoundTouch runtime staging to build outputs, fixed the DSP pipeline to convert 16-bit PCM into SoundTouch's sample type (preventing heap crashes), and made KrkrSpeedController prompt for a speed so the console stays open. dsp_smoke now runs successfully with SoundTouch.dll present.
2025-12-07 19:18: Added toggleable temp-file logging (ENABLE_LOGGING), rebuilt KrkrSpeedController as a Win32 process picker with Hook + Apply injection and clamped speed input, and logged dsp_smoke scenarios; Release build succeeded and dsp_smoke still runs cleanly.
2025-12-07 19:48: Expanded speed clamp to 0.5–10x (default 1.0, recommend 0.75–2), filtered the process list to visible-window processes in the current session to avoid services/subprocesses, refreshed UI labels accordingly, and rebuilt Release successfully.
2025-12-07 20:16: Refactored the GUI into a dedicated module with tooltips, added length-gate checkbox + duration input (default 30s, validation with rollback), and wired XAudio2Hook to skip stretching buffers longer than the threshold; updated docs and verified Release build + dsp_smoke.
2025-12-07 20:58: Added architecture detection before injection so the GUI blocks mismatched bitness, and documented Win32/x64 build guidance in both README languages to prevent “DLL injection returned 0” errors.
2025-12-07 21:20: Taught the injector to auto-pick x86 vs x64 hook DLLs (searching x86/ and x64/ folders or suffixed names) and expanded README (EN/ZH) with dual-arch packaging layout so both 32-bit and 64-bit processes are supported.
2025-12-07 21:42: Added a CMake target+script (`dist_dual_arch`) to configure/build both x64 and x86 outputs, stage them into `dist/{x64,x86}`, documented the one-command workflow in README (EN/ZH), and ignored the generated dist/build.x86/build.x64 folders.
2025-12-07 22:30: Hardened injection diagnostics: pre-check hook DLL architecture against the target, ensure absolute DLL paths, and expanded LoadLibrary failure messaging; added README (EN/ZH) troubleshooting notes for “LoadLibrary returned 0”.
2025-12-07 23:01: Added a local preflight LoadLibrary check before injection to catch missing dependencies up front, surfacing the OS error code if the DLL cannot be loaded even in the controller process.
2025-12-08 00:05: Replaced hook stubs with working interception: patched IAT for XAudio2Create (2.7/2.8/2.9) and DirectSoundCreate8, vtable hooks for CreateSourceVoice/SubmitSourceBuffer/SetFrequencyRatio/DestroyVoice plus DirectSound buffer Unlock, routed PCM through the DSP with speed + length gate, and documented the active hooks in README (EN/ZH).
2025-12-08 00:17: Fixed XAudio2 hook declarations (correct callback type, static hook prototypes) and vtable patching by dereferencing to void** before writing, resolving MSVC compile errors; dual-arch Release build now completes.
2025-12-08 00:50: Hooked GetProcAddress to catch dynamically resolved XAudio2Create/DirectSoundCreate8, added setters/exposed hook stubs so x86 games that load audio APIs at runtime still get intercepted, and rebuilt dual-arch dist.
2025-12-08 01:24: Added SeDebugPrivilege enablement before injection and improved access-denied messaging, updated README (EN/ZH), and rebuilt dual-arch dist.
2025-12-08 01:45: Fixed LookupPrivilegeValueW call by passing a wide SE_DEBUG_NAME literal; dual-arch Release build succeeds (SoundTouch copy warning unchanged).
2025-12-08 02:08: Prevented the preflight DLL load from patching the controller’s GetProcAddress (KRKR_SKIP_HOOK_INIT guard) to avoid crashes on repeated “Hook + Apply”; rebuilt dual-arch dist.
2025-12-08 03:19: Added injection diagnostics and a short-path retry, appended arch details to failure status, and kept the preflight hook-skip in place; build rerun hit a dist copy lock (KrkrSpeedController.exe in use).
2025-12-08 03:19: Switched MSVC runtime to static (/MT) to remove VC++ redist dependency from the hook/GUI; dual-arch build now succeeds again.
2025-12-08 03:50: Added a fallback to copy the hook + SoundTouch into the target’s exe directory and retry injection (full + short paths), added per-attempt diagnostics, and recompiled (staging may fail if dist binaries are in use).
2025-12-08 04:00: Relaxed dual_arch staging to warn (not fail) if dist files are locked, using copy_if_different with remove-before-copy; build now completes even if an old controller is running.
